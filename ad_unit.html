<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>iVS</title>
    </head>
    <body style="background-color:aquamarine;">
        <div style = 'text-align: center;'>
            <video id='video' style = "background-color: beige; border-radius: 5%; border-color: black; border-style: solid; border-width: 0.5mm; position: absolute; left: 34%;" width = "480" height = "270" poster="./icons/cartoon.png" autoplay muted>
                <source src = "test_video.mp4" type = "video/mp4">
            </video>
            <button onclick="toggleVolume()" style="position:absolute; z-index: 1; left: 35%; top: 2%; opacity: 25%;">
                <img src="./icons/sound.jpeg" width="18" height="15">
            </button>
            <button onclick="closeAd()" style="position:absolute; z-index: 1; left: 63%; top: 2%; height: 30px; width: 30px; background: white; border-color: transparent; border-radius: 50%; opacity: 25%;">
                <img src="./icons/cross.png" width="15px" height="15px">
            </button>
            <button onclick="startStopVideo()" style="position:absolute; z-index: 1; left: 49%; top: 15%; opacity: 15%; height: 30px; width: 30px; border-radius: 50%; background: white; border-color: transparent;">
                <img src="./icons/playpause.png" width="15px" height="15px">
            </button>
            <button type="button" id="myBtn" class="btnDisable" disabled onclick="closeAd()" style = 'position: absolute; z-index: 1; top: 25%; left: 59.5%'>Skip ad in ... <a id="myTimer"></a></button>
            <img id='image' src="./icons/cartoon.png" width="500" height="300" style='position: static; opacity: 0%; z-index: 0;' onclick="openImg()">
        </div>
            
    </body>

    <script>
        function openImg() {
            var image = document.getElementById('image');
            var source = image.src;
            alert("You clicked on the ad!");
        }

        function toggleVolume() {
            var video = document.getElementById('video');
            if (video.muted) {
                video.muted = false;
            } else {
                video.muted = true;
            }
        }

        function startStopVideo() {
            var video = document.getElementById('video');

            if (video.paused) {
                video.play();
            }
            else {
                video.pause();
            }
        }

        function closeAd() {
            var video = document.getElementById('video');

            if ((video.src) !== '') {}
            else {
                video.pause();
                video.src = './icons/cartoon.png';
            }
        }

        var sec = 15;
        var myTimer = document.getElementById('myTimer');
        var myBtn = document.getElementById('myBtn');
        window.onload = countDown;

        function countDown() {

            if (sec < 10) {
                myTimer.innerHTML = "0" + sec;
            } else {
                myTimer.innerHTML = sec;
            }
            
            if (sec == 0) {
                var btn = document.getElementById('myBtn');
                btn.disabled = false;
                return;
            }

            sec -= 1;
            window.setTimeout(countDown, 1000);
        }
    </script>
</html>